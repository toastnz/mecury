//------------------------------------------------------------------
// Break Points
//------------------------------------------------------------------

$xxs: 480px;
$xs: 540px;
$sm: 640px;
$md: 768px;
$xmd: 968px;
$lg: 1024px;
$xl: 1280px;
$xxl: 1440px;
$xxxl: 1600px;

@mixin active($class: null) {
  @if($class) {
    &.#{$class},
    &:hover,
    &:active,
    &:focus {
      @content;
    }
  }@else {
    &:hover,
    &:active,
    &:focus {
      @content;
    }
  }
}

//------------------------------------------------------------------
// Media Queries
//------------------------------------------------------------------

@mixin media($size1, $size2: min) {
  @if $size2 == min {
    @media only screen and (min-width: $size1) {
      @content;
    }
  } @else if $size2 == max {
    @media only screen and (max-width: $size1 - 1) {
      @content;
    }
  } @else {
    @media only screen and (min-width: $size1) and (max-width: $size2 - 1) {
      @content;
    }
  }
}

//------------------------------------------------------------------
// Placeholders
//------------------------------------------------------------------

@mixin placeholder {
  &::-webkit-input-placeholder {
    @content
  }

  &:-moz-placeholder {
    @content
  }

  &::-moz-placeholder {
    @content
  }

  &:-ms-input-placeholder {
    @content
  }
}

//------------------------------------------------------------------
// Micro Clearfix
//------------------------------------------------------------------

%clearfix {
  &:before,
  &:after {
    content: '';
    display: table;
  }

  &:after {
    clear: both;
  }
}

@mixin clearfix {
  @extend %clearfix;
}

.clearfix {
  @extend %clearfix;
}

//------------------------------------------------------------------
// Dynamic Aspect Ratios
//------------------------------------------------------------------

%aspect {
  position: relative;

  &:after {
    content: '';
    position: relative;
    display: block;
  }
}

@mixin aspect($x, $y) {
  @extend %aspect;

  &:after {
    padding-bottom: percentage($y / $x);
  }
}

//------------------------------------------------------------------
// Background Cover
//------------------------------------------------------------------

%cover {
  background-size: cover;
  background-position: center center;
  background-repeat: no-repeat;
}

@mixin cover {
  @extend %cover;
}

//------------------------------------------------------------------
// Background Contain
//------------------------------------------------------------------

%contain {
  background-size: contain;
  background-position: center center;
  background-repeat: no-repeat;
}

@mixin contain {
  @extend %contain;
}

//------------------------------------------------------------------
// Responsive SVGs
//------------------------------------------------------------------

%svg {
  position: relative;

  &:after {
    content: '';
    position: relative;
    display: block;
  }

  >svg {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
  }
}

@mixin svg($x, $y) {
  @extend %svg;

  &:after {
    padding-bottom: percentage($y / $x);
  }
}

//------------------------------------------------------------------
// Overlay Colour
//------------------------------------------------------------------

%overlay {
  content: '';
  display: block;
  position: absolute;
  top: 0;
  left: 0;
  height: 100%;
  width: 100%;
}

@mixin overlay($color, $opacity, $duration: .3s) {
  &:after {
    @extend %overlay;
    opacity: $opacity;
    background-color: $color;
    transition: opacity $duration ease, background-color $duration ease;
  }
}

//------------------------------------------------------------------
// Gradient
//------------------------------------------------------------------

@mixin gradient($deg, $colors: false) {
  $color-settings: ();

  @for $i from 1 through length($colors) {
    $color-settings: append($color-settings, nth($colors, $i) percentage(($i - 1) / (length($colors) - 1)));

    @if($i < length($colors)) {
      $color-settings: append($color-settings, unquote(','));
    }
  };

  background: linear-gradient($deg, $color-settings);
}

//------------------------------------------------------------------
// Autofill
//------------------------------------------------------------------

@mixin autofill($color) {
  input:-webkit-autofill,
  input:-webkit-autofill:hover,
  input:-webkit-autofill:focus,
  input:-webkit-autofill:active  {
      -webkit-box-shadow: 0 0 0 30px $color inset;
      background-color: $color !important;
  }
}

//------------------------------------------------------------------
// Transitions
//------------------------------------------------------------------

@mixin transition($array, $duration: .2s, $ease: ease) {
  $transitions: ();

  @for $i from 1 through length($array) {
    $transitions: append($transitions, nth($array, $i) $duration ease + ',')
  };

  transition: $transitions;
}

//------------------------------------------------------------------
// Animations
//------------------------------------------------------------------

@mixin keyframe($name, $duration: 3s, ) {
  @-webkit-keyframes #{$name} {
    @content;
  }

  @-moz-keyframes #{$name} {
    @content;
  }

  @-ms-keyframes #{$name} {
    @content;
  }

  @-o-keyframes #{$name} {
    @content;
  }

  @keyframes #{$name} {
    @content;
  }

  & {
    -webkit-animation: #{$name} #{$duration} infinite; /* Safari 4.0 - 8.0 */
    animation: #{$name} #{$duration} infinite;
  }
}

//------------------------------------------------------------------
// Fonts
//------------------------------------------------------------------

@mixin headings($start: 1, $stop: 6) {
  @for $i from $start through $stop {
    .h#{$i},
    h#{$i} {
      @content;
    }
  }
}

@mixin font($weight: 400, $family: $font-primary) {
  font-family: $family;
  font-weight: $weight;
}

//------------------------------------------------------------------
// Background Videos
//------------------------------------------------------------------

%video-background {
  position: relative;
  overflow: hidden;

  iframe {
    position: absolute;
    top: 50%;
    left: 50%;
    height: 100%;
    width: 100%;
    transform: translate(-50%,-50%);
  }
}

@mixin video-background($ratioX: 16, $ratioY: 9) {
  @extend %video-background;
  padding-bottom: percentage($ratioY / $ratioX);
}